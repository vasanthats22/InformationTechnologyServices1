<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stackly IT Services - Sign Up</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

<style>
  * {margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}
  body, html {height:100%; width:100%;}

  .container {display:flex; min-height:100vh; width:100%;}

  .left {
    flex:1;
    background:linear-gradient(135deg,#0a1f44,#003366);
    color:#fff;
    display:flex; flex-direction:column; justify-content:center; align-items:center;
    padding:40px; text-align:center;
  }

  .left h1 {font-size:36px; margin-bottom:20px; color:#00aaff;}
  .left p {font-size:18px; line-height:1.6;}

  .right {
    flex:1;
    background:#f5f5f5;
    display:flex; justify-content:center; align-items:center;
    padding:40px;
  }

  .card {
    width:100%; max-width:420px;
    background:#fff; padding:40px; border-radius:15px;
    box-shadow:0 15px 40px rgba(0,0,0,0.2);
    text-align:center;
  }

  .card h2 {margin-bottom:25px; color:#0a1f44;}

  .form-group {margin-bottom:18px; text-align:left;}

  input {
    width:100%; padding:12px 15px;
    border-radius:8px; border:1px solid #ccc;
    font-size:16px; transition:0.3s;
  }

  input:focus {border:2px solid #00aaff;}

  .submit-btn {
    display:block; width:100%; padding:14px;
    background: linear-gradient(90deg,#00aaff,#00ffaa);
    color:#fff; border:none; border-radius:8px;
    font-size:16px; font-weight:bold;
    text-align:center; text-decoration:none;
    cursor:pointer; transition:0.3s;
  }
  .submit-btn:hover {transform:scale(1.03); opacity:0.9;}

  .links {margin-top:15px;}
  .links a {color:#0a1f44; text-decoration:none;}
  .links a:hover {color:#00aaff;}

  /* --------- RESPONSIVE FIX --------- */
  @media(max-width:900px){
    .container {
      flex-direction:column;
    }
    .left, .right {
      flex:unset;
      width:100%;
      height:auto; /* Auto height to prevent overlapping */
      padding:30px 20px;
    }
  }
</style>
</head>
<body>

<div id="header-placeholder"></div>

<div class="container">

  <div class="left">
    <h1>STACKLY IT SERVICES</h1>
    <p>Create your account to access powerful IT tools and solutions.</p>
  </div>

  <div class="right">
    <div class="card">

      <h2>Sign Up</h2>

      <form id="signupForm">

        <!-- FULL NAME -->
        <div class="form-group">
          <label>Full Name</label>
          <input type="text" id="fullName" placeholder="Enter your name" required>
        </div>

        <!-- EMAIL -->
        <div class="form-group">
          <label>Email</label>
          <input type="email" id="email" placeholder="Enter your email" required>
        </div>

        <!-- PASSWORD -->
        <div class="form-group">
          <label>Password</label>
          <input type="password" id="password" placeholder="Enter password" required>
        </div>

        <!-- CONFIRM PASSWORD -->
        <div class="form-group">
          <label>Confirm Password</label>
          <input type="password" id="confirmPassword" placeholder="Re-enter password" required>
        </div>

        <a href="#" class="submit-btn" id="signupBtn">Sign Up</a>

        <div class="links">
          <a href="login.html">Already have an account? Login</a>
        </div>

      </form>
    </div>
  </div>

</div>

<div id="footer-placeholder"></div>

<script>
  const signupBtn = document.getElementById('signupBtn');
  const nameInput = document.getElementById('fullName');
  const emailInput = document.getElementById('email');
  const passwordInput = document.getElementById('password');
  const confirmInput = document.getElementById('confirmPassword');

  signupBtn.addEventListener('click', function(e){
    e.preventDefault();
    let valid = true;

    const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$/;
    const passwordPattern = /^(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;

    if(nameInput.value.trim().length < 2){ nameInput.style.border="2px solid #ff4d4d"; valid=false; } else { nameInput.style.border="1px solid #ccc"; }
    if(!emailPattern.test(emailInput.value.trim())){ emailInput.style.border="2px solid #ff4d4d"; valid=false; } else { emailInput.style.border="1px solid #ccc"; }
    if(!passwordPattern.test(passwordInput.value.trim())){ passwordInput.style.border="2px solid #ff4d4d"; valid=false; } else { passwordInput.style.border="1px solid #ccc"; }
    if(passwordInput.value!==confirmInput.value){ confirmInput.style.border="2px solid #ff4d4d"; valid=false; } else { confirmInput.style.border="1px solid #ccc"; }

    if(valid){ window.location.href="404error.html"; }
  });

  // Load header
  fetch('header.html')
    .then(response => response.text())
    .then(data => {
      document.getElementById('header-placeholder').innerHTML = data;

      // Header Interactions
      const menuBtn = document.querySelector('.menu-btn');
      const homeArrow = document.querySelector('.home-link span');

      menuBtn?.addEventListener('click', () => {
        document.getElementById('navBar').classList.toggle('active');
      });

      homeArrow?.addEventListener('click', (event) => {
        event.preventDefault();
        event.stopPropagation();
        const li = event.target.closest('li');
        li.classList.toggle('show-submenu');
      });
    });

  // Load footer
  fetch('footer.html')
    .then(response => response.text())
    .then(data => {
      document.getElementById('footer-placeholder').innerHTML = data;

      // Subscribe button JS (after footer is loaded)
      const subscribeBtn = document.getElementById('subscribeButton');
      const emailInput = document.getElementById('newsletterEmail');
      const emailError = document.getElementById('emailError');

      subscribeBtn?.addEventListener('click', function(e) {
        const email = emailInput.value.trim();
        const valid = /^[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$/;

        if (valid.test(email)) {
          // Redirect to 404error.html only if email is valid
          window.location.href = '404error.html';
        } else {
          e.preventDefault();
          emailError.style.display = 'block';
          emailInput.style.border = '2px solid #ff7a00';
        }
      });

      emailInput?.addEventListener('input', function() {
        emailError.style.display = 'none';
        emailInput.style.border = 'none';
      });
    });

  // Animate service boxes on scroll
  const serviceBoxes = document.querySelectorAll('.service-box');
  const observer = new IntersectionObserver(entries => {
    entries.forEach((entry, index) => {
      if(entry.isIntersecting){
        entry.target.style.animation = `fadeInUp 0.8s forwards`;
        entry.target.style.animationDelay = `${index * 0.2}s`;
      }
    });
  }, {threshold:0.2});
  serviceBoxes.forEach(box => observer.observe(box));
</script>

</body>
</html>
